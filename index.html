<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello World</title>
    <script src="pixi/pixi.js"></script>
    <!-- <script src="mainJS.js" async></script> -->
  </head>
    
  <body>
    <script src="pixi/pixi.js"></script>
    <script type="text/javascript">
      let type = "WebGL"
      if(!PIXI.utils.isWebGLSupported()){
        type = "canvas"
      }

      PIXI.utils.sayHello(type)
    </script>

    <script>

        //Aliases
        let Application = PIXI.Application,
            Container = PIXI.Container,
            loader = PIXI.Loader.shared,
            resources = PIXI.Loader.shared.resources,
            TextureCache = PIXI.utils.TextureCache,
            Sprite = PIXI.Sprite,
            Rectangle = PIXI.Rectangle;
        
        //Create a Pixi Application
        let app = new Application({ 
            width: 512, 
            height: 512,                       
            antialias: true, 
            transparent: false, 
            resolution: 1
          }
        );
        
        //Add the canvas that Pixi automatically created for you to the HTML document
        document.body.appendChild(app.view);
        
        //load a JSON file and run the `setup` function when it's done
        loader
          .add("images/mercmale.png")
          .load(setup);
        
        //Define variables that might be used in more 
        //than one function
        let mercMale;
        let tick = true;
        const moveSpeed = 5;
        
        function setup() {
        
          //There are 3 ways to make sprites from textures atlas frames
        
          // //1. Access the `TextureCache` directly
          let mercMaleTexture = TextureCache["images/mercmale.png"];
          mercMale = new Sprite(mercMaleTexture);
          app.stage.addChild(mercMale);

          mercMaleTexture.frame = new Rectangle(0,0,75,75);

          //Start the game loop by adding the `gameLoop` function to
          //Pixi's `ticker` and providing it with a `delta` argument.
          app.ticker.add(delta => gameLoop(delta));
        }
        

        function gameLoop(delta){
          if (tick === true){
            // console.log(tick);
            // console.log(mercMale.x);
            mercMale.x += moveSpeed;
            if (mercMale.x >= 512-75){
              tick = false;
            }
          }
          else if (tick === false)
          {
            // console.log(tick);
            // console.log(mercMale.x);
            mercMale.x -= moveSpeed;
            if (mercMale.x <= 0){
              tick = true;
            }
          }
        }

        </script>
        </body>
  </body>
</html>